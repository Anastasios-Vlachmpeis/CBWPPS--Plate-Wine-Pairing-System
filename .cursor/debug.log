{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 418, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"Wakame\", \"Spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\", \"Earthy\"]\n    },\n    {\n      \"dish_", "last_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"Wakame\", \"Spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\", \"Earthy\"]\n    },\n    {\n      \"dish_"}, "timestamp": 1770326933099}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 418, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"Wakame\", \"Spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\", \"Earthy\"]\n    },\n    {\n      \"dish_", "last_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"Wakame\", \"Spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\", \"Earthy\"]\n    },\n    {\n      \"dish_"}, "timestamp": 1770326933099}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "menu_extractor.py:251", "message": "JSON parse error details", "data": {"error": "Unterminated string starting at: line 16 column 7 (char 412)", "error_pos": 412, "context_before": "ms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\", \"Earthy\"]\n    },\n    {\n      ", "context_after": "\"dish_"}, "timestamp": 1770326933099}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 8859, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"wakame\", \"spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Nikkei Chicken Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Chicken", "last_500": "[\"Cinnamon-sugar\", \"nutella\", \"dulce de leche\"],\n      \"dominant_flavors\": [\"Sweet\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"NY Cheese Cake\",\n      \"category\": \"dessert\",\n      \"key_ingredients\": [\"Cheese\", \"Fresh and candied fruits\", \"lemon sorbet\"],\n      \"dominant_flavors\": [\"Sweet\", \"Creamy\", \"Acidic\"]\n    },\n    {\n      \"dish_name\": \"Warm Chocolate Brownie\",\n      \"category\": \"dessert\",\n      \"key_ingredients\": [\"Chocolate\", \"Fudge sauce\", \"vanilla ice cream\"],\n      \"dominant_flavors\": [\""}, "timestamp": 1770327086958}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 8859, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Miso Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Tofu\", \"wakame\", \"spring onion\"],\n      \"dominant_flavors\": [\"Umami\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Forest Mushroom Soup\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Mushrooms\", \"Parmesan crostini\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Nikkei Chicken Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Chicken", "last_500": "[\"Cinnamon-sugar\", \"nutella\", \"dulce de leche\"],\n      \"dominant_flavors\": [\"Sweet\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"NY Cheese Cake\",\n      \"category\": \"dessert\",\n      \"key_ingredients\": [\"Cheese\", \"Fresh and candied fruits\", \"lemon sorbet\"],\n      \"dominant_flavors\": [\"Sweet\", \"Creamy\", \"Acidic\"]\n    },\n    {\n      \"dish_name\": \"Warm Chocolate Brownie\",\n      \"category\": \"dessert\",\n      \"key_ingredients\": [\"Chocolate\", \"Fudge sauce\", \"vanilla ice cream\"],\n      \"dominant_flavors\": [\""}, "timestamp": 1770327086959}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": true, "response_length": 8859}, "timestamp": 1770327086959}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:268", "message": "Attempting partial JSON recovery", "data": {"error": "Unterminated string starting at: line 265 column 28 (char 8858)"}, "timestamp": 1770327086959}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 6347, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Briny\", \"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Briny\", \"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", ", "last_500": "[\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels sprouts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\", \"Smoky\"]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal greens\"],\n      \"dominant_flavors\": [\"Light\", \"Fresh\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770327538106}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 6347, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Briny\", \"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Briny\", \"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", ", "last_500": "[\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels sprouts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\", \"Smoky\"]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal greens\"],\n      \"dominant_flavors\": [\"Light\", \"Fresh\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770327538107}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 6347}, "timestamp": 1770327538108}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 7987, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Oyster\"\n      ],\n      \"dominant_flavors\": [\n        \"Salty\",\n        \"Light\"\n      ]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Oyster\"\n      ],\n      \"dominant_flavors\": [\n        \"Salty\",\n        \"Rich\"\n      ]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n  ", "last_500": "uts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Brussels sprouts\",\n        \"Chestnut\",\n        \"Bacon\"\n      ],\n      \"dominant_flavors\": [\n        \"Bitter\",\n        \"Nutty\",\n        \"Salty\"\n      ]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\n        \"Seasonal greens\"\n      ],\n      \"dominant_flavors\": [\n        \"Light\",\n        \"Fresh\",\n        \"Acidic\"\n      ]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770329660270}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 7987, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Oyster\"\n      ],\n      \"dominant_flavors\": [\n        \"Salty\",\n        \"Light\"\n      ]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Oyster\"\n      ],\n      \"dominant_flavors\": [\n        \"Salty\",\n        \"Rich\"\n      ]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n  ", "last_500": "uts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\n        \"Brussels sprouts\",\n        \"Chestnut\",\n        \"Bacon\"\n      ],\n      \"dominant_flavors\": [\n        \"Bitter\",\n        \"Nutty\",\n        \"Salty\"\n      ]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\n        \"Seasonal greens\"\n      ],\n      \"dominant_flavors\": [\n        \"Light\",\n        \"Fresh\",\n        \"Acidic\"\n      ]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770329660270}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 7987}, "timestamp": 1770329660271}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 6081, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", \"blini\", \"cr\u00e8me fr", "last_500": "ts\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts with Chestnut and Bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Smoky\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770329958430}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 6081, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", \"blini\", \"cr\u00e8me fr", "last_500": "ts\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts with Chestnut and Bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Smoky\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770329958430}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 6081}, "timestamp": 1770329958431}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "wine_manager.py:38", "message": "Loading existing wine list", "data": {"file_path": "WineM.pdf", "file_type": "pdf"}, "timestamp": 1770329958438}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:235", "message": "Starting PDF wine parsing", "data": {"file_path": "WineM.pdf"}, "timestamp": 1770329958438}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:245", "message": "Tables extracted from PDF", "data": {"table_count": 1, "table_sizes": [2]}, "timestamp": 1770329959195}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:273", "message": "Wines from table extraction", "data": {"wine_count": 0}, "timestamp": 1770329959195}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "file_parsers.py:277", "message": "No tables found, trying text extraction", "data": {}, "timestamp": 1770329959195}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "file_parsers.py:280", "message": "Wines from text extraction", "data": {"wine_count": 366}, "timestamp": 1770329959226}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "wine_manager.py:60", "message": "PDF wines extracted (basic)", "data": {"wine_count": 366}, "timestamp": 1770329959226}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "wine_manager.py:75", "message": "Wines before normalization", "data": {"wine_count": 366}, "timestamp": 1770329959226}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "wine_manager.py:82", "message": "Wines after normalization", "data": {"wine_count": 366}, "timestamp": 1770329959231}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 919, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"domi", "last_500": "      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Creamy\"]\n    },\n    {\n      \"dish_name\": \"Dolce Zero\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"cured meat\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Salchichon Iberico Bellota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"iberico pork\", \"spices\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Spicy\"]\n    },\n    {"}, "timestamp": 1770330206725}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 919, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"domi", "last_500": "      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Creamy\"]\n    },\n    {\n      \"dish_name\": \"Dolce Zero\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"cured meat\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Salchichon Iberico Bellota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"iberico pork\", \"spices\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Spicy\"]\n    },\n    {"}, "timestamp": 1770330206725}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": true, "response_length": 919}, "timestamp": 1770330206725}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:268", "message": "Attempting partial JSON recovery", "data": {"error": "Expecting property name enclosed in double quotes: line 33 column 6 (char 919)"}, "timestamp": 1770330206725}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "wine_manager.py:38", "message": "Loading existing wine list", "data": {"file_path": "WineM.pdf", "file_type": "pdf"}, "timestamp": 1770330206726}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:235", "message": "Starting PDF wine parsing", "data": {"file_path": "WineM.pdf"}, "timestamp": 1770330206727}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:245", "message": "Tables extracted from PDF", "data": {"table_count": 1, "table_sizes": [2]}, "timestamp": 1770330207499}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "file_parsers.py:273", "message": "Wines from table extraction", "data": {"wine_count": 0}, "timestamp": 1770330207499}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "file_parsers.py:277", "message": "No tables found, trying text extraction", "data": {}, "timestamp": 1770330207499}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "file_parsers.py:280", "message": "Wines from text extraction", "data": {"wine_count": 206}, "timestamp": 1770330207536}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "wine_manager.py:60", "message": "PDF wines extracted (basic, raw)", "data": {"wine_count": 206}, "timestamp": 1770330207536}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "wine_manager.py:67", "message": "PDF wines after validation (basic)", "data": {"wine_count": 0, "removed": 206}, "timestamp": 1770330207538}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "G", "location": "wine_manager.py:75", "message": "No wines from basic parsing, trying Gemini", "data": {}, "timestamp": 1770330207538}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "G", "location": "wine_manager.py:_extract_wines_with_gemini", "message": "Gemini extraction error", "data": {"error": "Unterminated string starting at: line 36 column 20 (char 863)"}, "timestamp": 1770330247087}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "G", "location": "wine_manager.py:80", "message": "PDF wines extracted (Gemini)", "data": {"wine_count": 0}, "timestamp": 1770330247089}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "wine_manager.py:75", "message": "Wines before normalization", "data": {"wine_count": 0}, "timestamp": 1770330247089}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "wine_manager.py:82", "message": "Wines after normalization", "data": {"wine_count": 0}, "timestamp": 1770330247090}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 6045, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n", "last_500": "er\",\n      \"key_ingredients\": [\"onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Smoky\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770330956208}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 6045, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n", "last_500": "er\",\n      \"key_ingredients\": [\"onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Smoky\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770330956208}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 6045}, "timestamp": 1770330956210}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 1313, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Caviar with Blini and Cr\u00e8me Fra\u00eeche\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar", "last_500": "llota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Salchichon iberico bellota\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Paleta Mangalica\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Paleta mangalica\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Truffle Mortadella\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Truffle mortadella\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\"]"}, "timestamp": 1770331179746}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 1313, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Caviar with Blini and Cr\u00e8me Fra\u00eeche\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar", "last_500": "llota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Salchichon iberico bellota\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Paleta Mangalica\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Paleta mangalica\"],\n      \"dominant_flavors\": [\"Salty\", \"Rich\"]\n    },\n    {\n      \"dish_name\": \"Truffle Mortadella\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Truffle mortadella\"],\n      \"dominant_flavors\": [\"Umami\", \"Rich\"]"}, "timestamp": 1770331179747}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": true, "response_length": 1313}, "timestamp": 1770331179747}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:268", "message": "Attempting partial JSON recovery", "data": {"error": "Expecting ',' delimiter: line 43 column 44 (char 1313)"}, "timestamp": 1770331179747}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 6227, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"]", "last_500": "nts\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Brussels sprouts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Fresh\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770332180084}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 6227, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"]", "last_500": "nts\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Brussels sprouts with chestnut and bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Fresh\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770332180085}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 6227}, "timestamp": 1770332180085}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "wine_manager.py:315", "message": "Raw Gemini response", "data": {"response_length": 880, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque'\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel'\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima\",\n      \"type_name\":", "last_500": "country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\",\n      \"winery\": \"Maison Auvigue\",\n      \"country\": \"France\",\n      \"grapes\": [\"Chardonnay\"]\n    },\n    {\n      \"wine_name\": \"Blanc de Ruffe\","}, "timestamp": 1770332224975}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:330", "message": "JSON parse error, attempting recovery", "data": {"error": "Expecting property name enclosed in double quotes: line 36 column 37 (char 880)", "error_pos": 880}, "timestamp": 1770332224976}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Starting recovery", "data": {"json_length": 880, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque'\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel'\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima\",\n      \"type_name\":", "last_500": "country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\",\n      \"winery\": \"Maison Auvigue\",\n      \"country\": \"France\",\n      \"grapes\": [\"Chardonnay\"]\n    },\n    {\n      \"wine_name\": \"Blanc de Ruffe\","}, "timestamp": 1770332224977}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Found wines array", "data": {"content_length": 214}, "timestamp": 1770332224978}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Recovery complete", "data": {"wine_count": 1}, "timestamp": 1770332224979}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:335", "message": "Recovery result", "data": {"wine_count": 1}, "timestamp": 1770332224980}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 6071, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", ", "last_500": "ingredients\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts with Chestnut and Bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770332714254}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 6071, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Briny\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Asetra caviar\", ", "last_500": "ingredients\": [\"Onion\"],\n      \"dominant_flavors\": [\"Sweet\", \"Savory\"]\n    },\n    {\n      \"dish_name\": \"Brussels Sprouts with Chestnut and Bacon\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Brussels sprouts\", \"chestnut\", \"bacon\"],\n      \"dominant_flavors\": [\"Bitter\", \"Nutty\", \"Salty\"]\n    },\n    {\n      \"dish_name\": \"Seasonal Salad\",\n      \"category\": \"salad\",\n      \"key_ingredients\": [\"Seasonal vegetables\"],\n      \"dominant_flavors\": [\"Light\", \"Acidic\"]\n    }\n  ],\n  \"wines\": []\n}"}, "timestamp": 1770332714254}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": false, "response_length": 6071}, "timestamp": 1770332714256}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "wine_manager.py:315", "message": "Raw Gemini response", "data": {"response_length": 852, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque', Gascogne, Domaine Saint Lannes 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel', Rheingau, Weingut Faust* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n  ", "last_500": "      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima, Sicily, Possente* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9, Maison Auvigue* 2022\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\","}, "timestamp": 1770332760558}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:330", "message": "JSON parse error, attempting recovery", "data": {"error": "Expecting property name enclosed in double quotes: line 30 column 31 (char 852)", "error_pos": 852}, "timestamp": 1770332760558}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Starting recovery", "data": {"json_length": 852, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque', Gascogne, Domaine Saint Lannes 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel', Rheingau, Weingut Faust* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n  ", "last_500": "      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima, Sicily, Possente* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9, Maison Auvigue* 2022\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\","}, "timestamp": 1770332760559}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Found wines array", "data": {"content_length": 838}, "timestamp": 1770332760559}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Found wine matches", "data": {"match_count": 4}, "timestamp": 1770332760559}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Recovery complete", "data": {"wine_count": 4}, "timestamp": 1770332760560}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:335", "message": "Recovery result", "data": {"wine_count": 4}, "timestamp": 1770332760560}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "menu_extractor.py:217", "message": "Raw response captured", "data": {"response_length": 919, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fr", "last_500": "gory\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Creamy\"]\n    },\n    {\n      \"dish_name\": \"Dolce Zero\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"pork\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Salchichon Iberico Bellota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Iberico pork\", \"spices\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Rich\"]"}, "timestamp": 1770332942850}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "menu_extractor.py:233", "message": "Cleaned response before parsing", "data": {"cleaned_length": 919, "first_500": "{\n  \"dishes\": [\n    {\n      \"dish_name\": \"Normandy Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Normandy oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Gillardeau Oyster\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Gillardeau oyster\"],\n      \"dominant_flavors\": [\"Salty\", \"Light\"]\n    },\n    {\n      \"dish_name\": \"Asetra Caviar\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fr", "last_500": "gory\": \"appetizer\",\n      \"key_ingredients\": [\"asetra caviar\", \"blini\", \"cr\u00e8me fra\u00eeche\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Creamy\"]\n    },\n    {\n      \"dish_name\": \"Dolce Zero\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"pork\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\"]\n    },\n    {\n      \"dish_name\": \"Salchichon Iberico Bellota\",\n      \"category\": \"appetizer\",\n      \"key_ingredients\": [\"Iberico pork\", \"spices\"],\n      \"dominant_flavors\": [\"Salty\", \"Umami\", \"Rich\"]"}, "timestamp": 1770332942850}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:240", "message": "Truncation check", "data": {"is_truncated": true, "response_length": 919}, "timestamp": 1770332942850}
{"sessionId": "debug-session", "runId": "post-fix", "hypothesisId": "B", "location": "menu_extractor.py:268", "message": "Attempting partial JSON recovery", "data": {"error": "Expecting ',' delimiter: line 31 column 53 (char 919)"}, "timestamp": 1770332942850}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "wine_manager.py:315", "message": "Raw Gemini response", "data": {"response_length": 852, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque', Gascogne, Domaine Saint Lannes 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel', Rheingau, Weingut Faust* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n  ", "last_500": "      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima, Sicily, Possente* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9, Maison Auvigue* 2022\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\","}, "timestamp": 1770332990515}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:330", "message": "JSON parse error, attempting recovery", "data": {"error": "Expecting property name enclosed in double quotes: line 30 column 31 (char 852)", "error_pos": 852}, "timestamp": 1770332990515}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Starting recovery", "data": {"json_length": 852, "first_500": "{\n  \"wines\": [\n    {\n      \"wine_name\": \"Gros Manseng 'Cos De La Roque', Gascogne, Domaine Saint Lannes 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Gascogne\",\n      \"winery\": \"Domaine Saint Lannes\",\n      \"country\": \"France\",\n      \"grapes\": [\"Gros Manseng\"]\n    },\n    {\n      \"wine_name\": \"Riesling, 'Gravel', Rheingau, Weingut Faust* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n  ", "last_500": "      \"type_name\": \"White\",\n      \"region\": \"Rheingau\",\n      \"winery\": \"Weingut Faust\",\n      \"country\": \"Germany\",\n      \"grapes\": [\"Riesling\"]\n    },\n    {\n      \"wine_name\": \"Catarratto, Kima, Sicily, Possente* 2024\",\n      \"type_name\": \"White\",\n      \"region\": \"Sicily\",\n      \"winery\": \"Possente\",\n      \"country\": \"Italy\",\n      \"grapes\": [\"Catarratto\"]\n    },\n    {\n      \"wine_name\": \"Chardonnay, M\u00e2con-Verz\u00e9, Maison Auvigue* 2022\",\n      \"type_name\": \"White\",\n      \"region\": \"M\u00e2con-Verz\u00e9\","}, "timestamp": 1770332990515}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Found wines array", "data": {"content_length": 838}, "timestamp": 1770332990515}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Found wine matches", "data": {"match_count": 4}, "timestamp": 1770332990515}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "F", "location": "wine_manager.py:_recover_partial_json", "message": "Recovery complete", "data": {"wine_count": 4}, "timestamp": 1770332990531}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "wine_manager.py:335", "message": "Recovery result", "data": {"wine_count": 4}, "timestamp": 1770332990531}
